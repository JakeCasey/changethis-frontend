{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/jakecasey/Documents/Projects/Bugs/skeleton-key-frontend/components/special/Reporting.js\";\nimport Error from \"../ErrorMessage\";\nimport React, { Component } from \"react\";\nimport { useRouter } from \"next/router\";\nimport gql from \"graphql-tag\";\nimport withContainers from \"../wrappers/withContainer\";\nimport { Global as globalState } from \"./Global\";\nimport SickButton from \"../styles/SickButton\";\nimport styled from \"styled-components\";\nimport DesignCanvas from \"./DesignCanvas\";\nimport Toolbar from \"./Toolbar.js\";\nimport { Url } from \"url\";\nimport { frontend, prodFrontend } from \"../../config\";\nvar Frame = styled.iframe.withConfig({\n  displayName: \"Reporting__Frame\",\n  componentId: \"sc-5smu6h-0\"\n})([\"position:absolute;top:0px;left:0px;right:0px;bottom:0px;width:100%;height:100%;max-width:\", \";\"], function (props) {\n  return props.width;\n});\nvar WorkArea = styled.div.withConfig({\n  displayName: \"Reporting__WorkArea\",\n  componentId: \"sc-5smu6h-1\"\n})([\"display:flex;margin-bottom:30px;\"]);\nvar UrlBar = styled.div.withConfig({\n  displayName: \"Reporting__UrlBar\",\n  componentId: \"sc-5smu6h-2\"\n})([\"display:flex;\"]);\nvar URL = styled.input.withConfig({\n  displayName: \"Reporting__URL\",\n  componentId: \"sc-5smu6h-3\"\n})([\"width:100%;\"]);\nvar CanvasContainer = styled.div.withConfig({\n  displayName: \"Reporting__CanvasContainer\",\n  componentId: \"sc-5smu6h-4\"\n})([\"position:relative;width:100%;height:100%;min-height:1000px;min-width:1000px;overflow-y:hidden;\"]);\n\nvar Test = function Test(props) {\n  var router = useRouter();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Test\"), _JSON$stringify(router.query), props.children);\n};\n\nvar frontendUrl = process.env.NODE_ENV === \"development\" ? frontend : prodFrontend;\n\nvar Reporting =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Reporting, _Component);\n\n  function Reporting() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Reporting);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Reporting)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      url: \"http://bugherd.com\",\n      urlSelected: frontendUrl + \"/api/proxy?url=aHR0cDovL3d3dy5nb29nbGUuY29t\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"reloadIframe\", function () {\n      var urlString = frontendUrl + \"/api/proxy?url=\" + btoa(_this.state.url);\n\n      _this.props.test.setCurrentIframe(urlString);\n\n      _this.setState({\n        urlSelected: urlString\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateUrl\", function (e) {\n      var url = e.target.value;\n\n      _this.setState({\n        url: url\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      if (e.key === \"Enter\") {\n        _this.reloadIframe();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScroll\", function (e) {});\n\n    return _this;\n  }\n\n  _createClass(Reporting, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // if (!this.props.test) return <p>Loading...</p>;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(UrlBar, {\n        className: \"mb-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(URL, {\n        className: \"bg-gray-100 px-8 mr-8 rounded\",\n        value: this.state.url,\n        onChange: function onChange(e) {\n          _this2.updateUrl(e);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this2.handleKeyDown(e);\n        },\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \" text-green-700 mr-4 rounded \",\n        onClick: function onClick() {\n          _this2.reloadIframe();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"icon-arrow-thick-right-circle w-10 h-10\",\n        viewBox: \"0 0 24 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"10\",\n        className: \"fill-current text-green-300\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M12 14H7a1 1 0 01-1-1v-2a1 1 0 011-1h5V8a1 1 0 011.7-.7l4 4a1 1 0 010 1.4l-4 4A1 1 0 0112 16v-2z\",\n        className: \"text-green-500 fill-current\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })))), React.createElement(WorkArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(CanvasContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.props.test && this.props.test.state.overIframe.map(function (OverIframe, i) {\n        var OverIframeComponent = OverIframe.component;\n        return React.createElement(OverIframeComponent, {\n          key: i,\n          id: OverIframe.belongsTo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        });\n      }), \" \"), React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Reporting;\n}(Component);\n\nexport default withContainers([globalState])(Reporting);","map":{"version":3,"sources":["/Users/jakecasey/Documents/Projects/Bugs/skeleton-key-frontend/components/special/Reporting.js"],"names":["Error","React","Component","useRouter","gql","withContainers","Global","globalState","SickButton","styled","DesignCanvas","Toolbar","Url","frontend","prodFrontend","Frame","iframe","props","width","WorkArea","div","UrlBar","URL","input","CanvasContainer","Test","router","query","children","frontendUrl","process","env","NODE_ENV","Reporting","url","urlSelected","urlString","btoa","state","test","setCurrentIframe","setState","e","target","value","key","reloadIframe","updateUrl","handleKeyDown","overIframe","map","OverIframe","i","OverIframeComponent","component","belongsTo"],"mappings":"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","sourcesContent":["import Error from \"../ErrorMessage\";\nimport React, { Component } from \"react\";\nimport { useRouter } from \"next/router\";\nimport gql from \"graphql-tag\";\n\nimport withContainers from \"../wrappers/withContainer\";\nimport { Global as globalState } from \"./Global\";\n\nimport SickButton from \"../styles/SickButton\";\nimport styled from \"styled-components\";\nimport DesignCanvas from \"./DesignCanvas\";\nimport Toolbar from \"./Toolbar.js\";\nimport { Url } from \"url\";\nimport { frontend, prodFrontend } from \"../../config\";\n\nconst Frame = styled.iframe`\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  max-width: ${props => props.width};\n`;\n\nconst WorkArea = styled.div`\n  display: flex;\n  margin-bottom: 30px;\n`;\n\nconst UrlBar = styled.div`\n  display: flex;\n`;\n\nconst URL = styled.input`\n  width: 100%;\n`;\nconst CanvasContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 1000px;\n  min-width: 1000px;\n  overflow-y: hidden;\n`;\n\nconst Test = props => {\n  var router = useRouter();\n\n  return (\n    <div>\n      <p>Test</p>\n      {JSON.stringify(router.query)}\n      {props.children}\n    </div>\n  );\n};\n\nconst frontendUrl =\n  process.env.NODE_ENV === \"development\" ? frontend : prodFrontend;\n\nclass Reporting extends Component {\n  state = {\n    url: \"http://bugherd.com\",\n    urlSelected: frontendUrl + \"/api/proxy?url=aHR0cDovL3d3dy5nb29nbGUuY29t\"\n  };\n\n  reloadIframe = () => {\n    var urlString = frontendUrl + \"/api/proxy?url=\" + btoa(this.state.url);\n    this.props.test.setCurrentIframe(urlString);\n\n    this.setState({ urlSelected: urlString });\n  };\n\n  updateUrl = e => {\n    var url = e.target.value;\n    this.setState({ url });\n  };\n\n  handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      this.reloadIframe();\n    }\n  };\n\n  handleScroll = e => {};\n\n  render() {\n    // if (!this.props.test) return <p>Loading...</p>;\n    return (\n      <div>\n        <UrlBar className=\"mb-8\">\n          <URL\n            className=\"bg-gray-100 px-8 mr-8 rounded\"\n            value={this.state.url}\n            onChange={e => {\n              this.updateUrl(e);\n            }}\n            onKeyDown={e => this.handleKeyDown(e)}\n            type=\"text\"\n          />\n          <button\n            className=\" text-green-700 mr-4 rounded \"\n            onClick={() => {\n              this.reloadIframe();\n            }}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"icon-arrow-thick-right-circle w-10 h-10\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                className=\"fill-current text-green-300\"\n              ></circle>\n              <path\n                d=\"M12 14H7a1 1 0 01-1-1v-2a1 1 0 011-1h5V8a1 1 0 011.7-.7l4 4a1 1 0 010 1.4l-4 4A1 1 0 0112 16v-2z\"\n                className=\"text-green-500 fill-current\"\n              ></path>\n            </svg>\n          </button>\n        </UrlBar>\n        <WorkArea>\n          <CanvasContainer>\n            {this.props.test &&\n              this.props.test.state.overIframe.map((OverIframe, i) => {\n                var OverIframeComponent = OverIframe.component;\n                return (\n                  <OverIframeComponent key={i} id={OverIframe.belongsTo} />\n                );\n              })}{\" \"}\n            {/* {this.props.test && this.props.test.state && (\n              <Frame\n                id=\"iframe\"\n                width={this.props.test.state.iframe.size.width}\n                src={this.props.test.state.currentIframe}\n              />\n            )} */}\n            {/* <DesignCanvas /> */}\n          </CanvasContainer>\n          <Toolbar />\n        </WorkArea>\n      </div>\n    );\n  }\n}\n\nexport default withContainers([globalState])(Reporting);\n"]},"metadata":{},"sourceType":"module"}