{"ast":null,"code":"import { prodEndPoint, endpoint } from '../../config';\nimport fetch from 'isomorphic-fetch';\nexport default (async (req, res) => {\n  try {\n    var newEndpoint = process.env.NODE_ENV === 'development' ? endpoint : prodEndPoint;\n    var url = req.url;\n    var fetchUrl = newEndpoint + url;\n    var fetchRes = await fetch(fetchUrl);\n    var response = await fetchRes.text();\n    res.setHeader('Content-Type', 'text/html');\n    res.send(response);\n  } catch (error) {\n    if (error) throw new Error(error);\n  }\n});","map":{"version":3,"sources":["/Users/jakecasey/Documents/Projects/Bugs/skeleton-key-frontend/pages/api/proxy.js"],"names":["prodEndPoint","endpoint","fetch","req","res","newEndpoint","process","env","NODE_ENV","url","fetchUrl","fetchRes","response","text","setHeader","send","error","Error"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,QAAvB,QAAuC,cAAvC;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,QAAIC,WAAW,GACbC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCP,QAAzC,GAAoDD,YADtD;AAEA,QAAIS,GAAG,GAAGN,GAAG,CAACM,GAAd;AACA,QAAIC,QAAQ,GAAGL,WAAW,GAAGI,GAA7B;AAEA,QAAIE,QAAQ,GAAG,MAAMT,KAAK,CAACQ,QAAD,CAA1B;AACA,QAAIE,QAAQ,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAArB;AACAT,IAAAA,GAAG,CAACU,SAAJ,CAAc,cAAd,EAA8B,WAA9B;AACAV,IAAAA,GAAG,CAACW,IAAJ,CAASH,QAAT;AACD,GAVD,CAUE,OAAOI,KAAP,EAAc;AACd,QAAIA,KAAJ,EAAW,MAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACZ;AACF,CAdD","sourcesContent":["import { prodEndPoint, endpoint } from '../../config';\nimport fetch from 'isomorphic-fetch';\n\nexport default async (req, res) => {\n  try {\n    var newEndpoint =\n      process.env.NODE_ENV === 'development' ? endpoint : prodEndPoint;\n    var url = req.url;\n    var fetchUrl = newEndpoint + url;\n\n    var fetchRes = await fetch(fetchUrl);\n    var response = await fetchRes.text();\n    res.setHeader('Content-Type', 'text/html');\n    res.send(response);\n  } catch (error) {\n    if (error) throw new Error(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}