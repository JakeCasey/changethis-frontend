{"version":3,"file":"static/webpack/static/development/pages/reporting.js.bf49012847296fa473e2.hot-update.js","sources":["webpack:///./components/special/Reporting.js"],"sourcesContent":["import Error from '../ErrorMessage';\nimport React, { Component } from 'react';\nimport { useRouter } from 'next/router';\nimport gql from 'graphql-tag';\n\nimport withContainers from '../wrappers/withContainer';\nimport Global from './Global';\n\nimport SickButton from '../styles/SickButton';\nimport styled from 'styled-components';\nimport DesignCanvas from './DesignCanvas';\nimport Toolbar from './Toolbar.js';\nimport { Url } from 'url';\nimport { frontend, prodFrontend } from '../../config';\n\nconst Frame = styled.iframe`\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  max-width: ${props => props.width};\n`;\n\nconst WorkArea = styled.div`\n  display: flex;\n  margin-bottom: 30px;\n`;\n\nconst UrlBar = styled.div`\n  display: flex;\n  padding: 40px 0px;\n`;\n\nconst URL = styled.input`\n  width: 100%;\n`;\nconst CanvasContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 1000px;\n  min-width: 1000px;\n  overflow-y: hidden;\n`;\n\nconst Test = props => {\n  var router = useRouter();\n\n  return (\n    <div>\n      <p>Test</p>\n      {JSON.stringify(router.query)}\n      {props.children}\n    </div>\n  );\n};\n\nconst frontendUrl =\n  process.env.NODE_ENV === 'development' ? frontend : prodFrontend;\n\nclass Reporting extends Component {\n  state = {\n    url: 'http://bugherd.com',\n    urlSelected: frontendUrl + '/api/proxy?url=aHR0cDovL2J1Z2hlcmQuY29t',\n  };\n\n  reloadIframe = () => {\n    var urlString = frontendUrl + '/api/proxy?url=' + btoa(this.state.url);\n\n    this.props.Global.setCurrentIframe(urlString);\n\n    this.setState({ urlSelected: urlString });\n  };\n\n  updateUrl = e => {\n    var url = e.target.value;\n    this.setState({ url });\n  };\n\n  handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      this.reloadIframe();\n    }\n  };\n\n  handleScroll = e => {};\n\n  render() {\n    // if (!this.props.Global) return <p>Loading...</p>;\n    return (\n      <div>\n        <UrlBar>\n          <URL\n            value={this.state.url}\n            onChange={e => {\n              this.updateUrl(e);\n            }}\n            onKeyDown={e => this.handleKeyDown(e)}\n            type=\"text\"\n          />\n          <SickButton\n            onClick={() => {\n              this.reloadIframe();\n            }}\n          >\n            Go\n          </SickButton>\n        </UrlBar>\n        <WorkArea>\n          <CanvasContainer>\n            {this.props.Global &&\n              this.props.Global.state.overIframe.map((OverIframe, i) => {\n                var OverIframeComponent = OverIframe.component;\n                return (\n                  <OverIframeComponent key={i} id={OverIframe.belongsTo} />\n                );\n              })}{' '}\n            {this.props.Global && (\n              <Frame\n                id=\"iframe\"\n                width={this.props.Global.state.iframe.width}\n                src={this.props.Global.state.currentIframe}\n              />\n            )}\n            {/* <DesignCanvas /> */}\n          </CanvasContainer>\n          <Toolbar />\n        </WorkArea>\n      </div>\n    );\n  }\n}\n\nexport default withContainers([Global])(Reporting);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAQA;AAAA;AAGA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAtEA;AACA;AAwEA;;;;A","sourceRoot":""}