{"version":3,"file":"static/webpack/static/development/pages/reporting.js.8808861b5ea6ae1e4b42.hot-update.js","sources":["webpack:///./components/special/Reporting.js"],"sourcesContent":["import Error from \"../ErrorMessage\";\nimport React, { Component } from \"react\";\nimport { useRouter } from \"next/router\";\nimport gql from \"graphql-tag\";\n\nimport withContainers from \"../wrappers/withContainer\";\nimport { Global as globalState } from \"./Global\";\n\nimport SickButton from \"../styles/SickButton\";\nimport styled from \"styled-components\";\nimport DesignCanvas from \"./DesignCanvas\";\nimport Toolbar from \"./Toolbar.js\";\nimport { Url } from \"url\";\nimport { frontend, prodFrontend } from \"../../config\";\n\nconst Frame = styled.iframe`\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  max-width: ${props => props.width};\n`;\n\nconst WorkArea = styled.div`\n  display: flex;\n  margin-bottom: 30px;\n`;\n\nconst UrlBar = styled.div`\n  display: flex;\n`;\n\nconst URL = styled.input`\n  width: 100%;\n`;\nconst CanvasContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 1000px;\n  min-width: 1000px;\n  overflow-y: hidden;\n`;\n\nconst Test = props => {\n  var router = useRouter();\n\n  return (\n    <div>\n      <p>Test</p>\n      {JSON.stringify(router.query)}\n      {props.children}\n    </div>\n  );\n};\n\nconst frontendUrl =\n  process.env.NODE_ENV === \"development\" ? frontend : prodFrontend;\n\nclass Reporting extends Component {\n  state = {\n    url: \"http://bugherd.com\",\n    urlSelected: frontendUrl + \"/api/proxy?url=aHR0cDovL3d3dy5nb29nbGUuY29t\"\n  };\n\n  reloadIframe = () => {\n    var urlString = frontendUrl + \"/api/proxy?url=\" + btoa(this.state.url);\n    this.props.test.setCurrentIframe(urlString);\n\n    this.setState({ urlSelected: urlString });\n  };\n\n  updateUrl = e => {\n    var url = e.target.value;\n    this.setState({ url });\n  };\n\n  handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      this.reloadIframe();\n    }\n  };\n\n  handleScroll = e => {};\n\n  render() {\n    // if (!this.props.test) return <p>Loading...</p>;\n    return (\n      <div>\n        <UrlBar className=\"mb-8\">\n          <URL\n            className=\"bg-gray-100 px-8 mr-8 rounded\"\n            value={this.state.url}\n            onChange={e => {\n              this.updateUrl(e);\n            }}\n            onKeyDown={e => this.handleKeyDown(e)}\n            type=\"text\"\n          />\n          <button\n            className=\" text-green-700 mr-4 rounded \"\n            onClick={() => {\n              this.reloadIframe();\n            }}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"icon-arrow-thick-right-circle w-10 h-10\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                className=\"fill-current text-green-300\"\n              ></circle>\n              <path\n                d=\"M12 14H7a1 1 0 01-1-1v-2a1 1 0 011-1h5V8a1 1 0 011.7-.7l4 4a1 1 0 010 1.4l-4 4A1 1 0 0112 16v-2z\"\n                className=\"text-green-500 fill-current\"\n              ></path>\n            </svg>\n          </button>\n        </UrlBar>\n        <WorkArea>\n          <CanvasContainer>\n            {this.props.test &&\n              this.props.test.state.overIframe.map((OverIframe, i) => {\n                var OverIframeComponent = OverIframe.component;\n                return (\n                  <OverIframeComponent key={i} id={OverIframe.belongsTo} />\n                );\n              })}{\" \"}\n            {this.props.test && this.props.test.state && (\n              <img\n                src={\n                  \"http://localhost:4444/api/screenshot?url=\" + this.state.url\n                }\n              />\n            )}\n            {/* <DesignCanvas /> */}\n          </CanvasContainer>\n          <Toolbar />\n        </WorkArea>\n      </div>\n    );\n  }\n}\n\nexport default withContainers([globalState])(Reporting);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAQA;AAAA;AAGA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAtFA;AACA;AAwFA;;;;A","sourceRoot":""}